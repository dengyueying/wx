<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>我的地址</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="css/public.css" />
		<link rel="stylesheet" href="css/adress.css" />
		
		<script src="js/mui.min.js"></script>
		<script type="text/javascript" src="js/rem.min.js" ></script>
		<script type="text/javascript" src="js/jquery.min.js" ></script>
	</head>

	<body>
		<!--<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back"></a>
			<h1 class="mui-title">我的地址</h1>
		</header>-->
		<div class="content contentBottom">
			<ul class="adr-list">
				<li class="borderbot pad">
					<p class="number"><span class="default">默认</span><span class="name">王先森</span><span class="ipone">15111272727</span></p>
					<p class="adress mui-ellipsis">长沙市芙蓉区美联天骄城1623室</p>
				</li>
				<li class="borderbot pad">
					<p class="number"><span class="name">王先森</span><span class="ipone">15111272727</span></p>
					<p class="adress mui-ellipsis">长沙市芙蓉区美联天骄城1623室</p>
				</li>
				<li class="borderbot pad">
					<p class="number"><span class="name">王先森</span><span class="ipone">15111272727</span></p>
					<p class="adress mui-ellipsis">长沙市芙蓉区美联天骄城1623室</p>
				</li>
			</ul>
		</div>
		<footer class="foot">
			<span class="add">新增地址</span>
			<span class="manage" id="manage">管理地址</span>
		</footer>
		<script type="text/javascript">
			var str;
			//进入编辑地址
			$(".adr-list li").on("click",".edit",function(){
				mui.openWindow({
					url: 'addadress.html',
					id: 'addadress',
				});
			});
			//进入新增地址
			$("footer").on("click",".add",function(e){
				e.stopPropagation();
				mui.openWindow({
					url: 'addadress.html',
					id: 'addadress',
				});
			});			
			//删除地址
			$(".adr-list li").on("click",".icon-delete",function(){
				var that=$(this);
				var btnArray = ['取消', '删除'];
				mui.confirm(' ', '确认删除该地址？', btnArray, function(e) {
					if (e.index == 1) {
						that.parent().parent().remove();
					} 
				}, 'div');
			});
			//管理地址
			$("footer").on("click",".manage",function(e){
				e.stopPropagation();
				str='<div class="icon">';
						str+='<i class="icon-adrs edit"></i>';
						str+='<i class="icon-adrs icon-delete"></i>';
					str+='</div>';
				$(".adr-list").children("li").append(str);
				$(this).parent().removeClass("foot");
				$("footer").html("确认");
			});
			//删除地址之后确认
			$("footer").on("click",function(){
				if($(this).hasClass("foot")){
					$("footer").addClass("foot");
				}else{
					$(".icon").remove();
					$(this).addClass("foot");
					str='<span class="add">新增地址</span>';
					str+='<span class="manage" id="manage">管理地址</span>';
					$(this).html(str);
				}
			});
		</script>
	</body>

</html>